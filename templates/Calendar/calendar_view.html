<!-- templates/calendar_view.html -->
{% extends "Calendar/base.html" %}
{% block content %}
  <div class="container-fluid">
    <header class="p-3 mb-3 border-bottom">
        <h1><a href="{% url 'home'%}">Производственный календарь</a></h1>
    </header>
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">App</a></li>
            <li class="breadcrumb-item"><a href="#">Path</a></li>
            <li class="breadcrumb-item"><a href="#">Info</a></li>
            <li class="breadcrumb-item active" aria-current="page">Calendar</li>
        </ol>
      </nav>
    <main>
        <!--<div id="carouselExampleFade" class="carousel slide carousel-fade">
            <div class="carousel-inner">
                <div class="carousel-item">
                    <img src="https://www.uralairlines.ru/upload/iblock/e36/e3697aee6e92789a69808154f62a3a08.jpg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item active">
                    <img src="https://www.uralairlines.ru/upload/iblock/207/207272881887e271a34201d7279c99f0.jpg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="https://www.uralairlines.ru/upload/iblock/532/532819aaa76e690f68058fc0e5d963d6.jpg" class="d-block w-100" alt="...">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div> -->
        <div class="input-group mb-3">
            <div class="input-group-prepend">
                <button class="btn btn-outline-secondary" type="button" onclick="decrementYear()"><</button>
            </div>
            <input type="text" readonly class="form-control text-center" id="current-year" value="0" placeholder="" aria-label="" aria-describedby="basic-addon1" method="post">
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" onclick="incrementYear()">></button>
            </div>
        </div>
        <div class="invisible date_feed2">
            {{ off_dates }}
            <ul>
                {% for d in off_dates %}
                <li class="date_feed">{{ d }}</li>
                {% endfor %}
            </ul>
        </div>
        <div style="display: block" id="jsonData" data-json="{{ get_dates }}">  </div>

        <div class ="container-fluid" id="container">
        </div>


          <div id="my-data">
              {{ get_all_dates|json_script:"off_date" }}
          <script>
              let myData = JSON.parse(document.getElementById('off_date').textContent);
              console.log('111'+myData);
          </script>
          </div>
        <div class="input-group-append d-flex justify-content-end">
            <button type="button" class="btn btn-primary">Редактировать</button>
            <button type="button" class="btn btn-secondary" onclick="createCalendar(currentYear)">Обновить</button>
        </div>
    </main>
  </div>
{% endblock content %}